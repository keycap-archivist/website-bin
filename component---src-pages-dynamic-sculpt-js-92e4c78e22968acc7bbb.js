(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[816],{715:function(e){var t=Date.now;e.exports=function(e){var n=0,r=0;return function(){var a=t(),s=16-(a-r);if(r=a,s>0){if(++n>=800)return arguments[0]}else n=0;return e.apply(void 0,arguments)}}},1577:function(e,t,n){var r=n(5418),a=n(715)(r);e.exports=a},1860:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(9474),a=n(1615),s=n(1347),o=n(7322),l=n(3274),i=r.forwardRef((e,t)=>{const{container:n,...i}=e,[c,u]=r.useState(!1);(0,o.N)(()=>u(!0),[]);const d=n||c&&globalThis?.document?.body;return d?a.createPortal((0,l.jsx)(s.sG.div,{...i,ref:t}),d):null});i.displayName="Portal"},2238:function(e,t,n){var r=n(2424),a=n(4525),s=n(1577);e.exports=function(e,t){return s(a(e,t,r),e+"")}},2691:function(e,t,n){var r=n(764),a=n(2582),s=n(5525),o=n(4166),l=n(6857),i=n(8877),c=n(3242),u=n(2424),d=n(6521);e.exports=function(e,t,n){t=t.length?r(t,function(e){return d(e)?function(t){return a(t,1===e.length?e[0]:e)}:e}):[u];var m=-1;t=r(t,i(s));var f=o(e,function(e,n,a){return{criteria:r(t,function(t){return t(e)}),index:++m,value:e}});return l(f,function(e,t){return c(e,t,n)})}},3066:function(e,t,n){var r=n(6770);e.exports=function(e,t){if(e!==t){var n=void 0!==e,a=null===e,s=e==e,o=r(e),l=void 0!==t,i=null===t,c=t==t,u=r(t);if(!i&&!u&&!o&&e>t||o&&l&&c&&!i&&!u||a&&l&&c||!n&&c||!s)return 1;if(!a&&!o&&!u&&e<t||u&&n&&s&&!a&&!o||i&&n&&s||!l&&s||!c)return-1}return 0}},3242:function(e,t,n){var r=n(3066);e.exports=function(e,t,n){for(var a=-1,s=e.criteria,o=t.criteria,l=s.length,i=n.length;++a<l;){var c=r(s[a],o[a]);if(c)return a>=i?c:c*("desc"==n[a]?-1:1)}return e.index-t.index}},3486:function(e){e.exports=function(e){return function(){return e}}},3880:function(e,t,n){var r=n(9512),a=n(8923);e.exports=function e(t,n,s,o,l){var i=-1,c=t.length;for(s||(s=a),l||(l=[]);++i<c;){var u=t[i];n>0&&s(u)?n>1?e(u,n-1,s,o,l):r(l,u):o||(l[l.length]=u)}return l}},3940:function(e,t,n){"use strict";n.d(t,{c:function(){return a}});var r=n(9474);function a(e){const t=r.useRef(e);return r.useEffect(()=>{t.current=e}),r.useMemo(()=>(...e)=>t.current?.(...e),[])}},4166:function(e,t,n){var r=n(9797),a=n(8710);e.exports=function(e,t){var n=-1,s=a(e)?Array(e.length):[];return r(e,function(e,r,a){s[++n]=t(e,r,a)}),s}},4525:function(e,t,n){var r=n(7057),a=Math.max;e.exports=function(e,t,n){return t=a(void 0===t?e.length-1:t,0),function(){for(var s=arguments,o=-1,l=a(s.length-t,0),i=Array(l);++o<l;)i[o]=s[t+o];o=-1;for(var c=Array(t+1);++o<t;)c[o]=s[o];return c[t]=n(i),r(e,this,c)}}},5161:function(e,t,n){var r=n(9761),a=n(4630);e.exports=function(e,t){return e&&r(e,t,a)}},5313:function(e,t,n){var r=n(8710);e.exports=function(e,t){return function(n,a){if(null==n)return n;if(!r(n))return e(n,a);for(var s=n.length,o=t?s:-1,l=Object(n);(t?o--:++o<s)&&!1!==a(l[o],o,l););return n}}},5418:function(e,t,n){var r=n(3486),a=n(8835),s=n(2424),o=a?function(e,t){return a(e,"toString",{configurable:!0,enumerable:!1,value:r(t),writable:!0})}:s;e.exports=o},6783:function(e,t,n){var r=n(3880),a=n(2691),s=n(2238),o=n(8408),l=s(function(e,t){if(null==e)return[];var n=t.length;return n>1&&o(e,t[0],t[1])?t=[]:n>2&&o(t[0],t[1],t[2])&&(t=[t[0]]),a(e,r(t,1),[])});e.exports=l},6857:function(e){e.exports=function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}},7057:function(e){e.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},7254:function(e,t,n){"use strict";var r=n(9474);t.A=e=>{let{src:t,alt:n,className:a,width:s,height:o}=e;return r.createElement("img",{width:s||250,height:o||250,loading:"lazy",src:t,alt:n,className:a})}},8408:function(e,t,n){var r=n(2864),a=n(8710),s=n(2753),o=n(7717);e.exports=function(e,t,n){if(!o(n))return!1;var l=typeof t;return!!("number"==l?a(n)&&s(t,n.length):"string"==l&&t in n)&&r(n[t],e)}},8810:function(e,t,n){"use strict";n.d(t,{lg:function(){return b},qW:function(){return p},bL:function(){return E}});var r=n(9474),a=n(1205),s=n(1347),o=n(1331),l=n(3940);var i,c=n(3274),u="dismissableLayer.update",d="dismissableLayer.pointerDownOutside",m="dismissableLayer.focusOutside",f=r.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),p=r.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:p,onPointerDownOutside:v,onFocusOutside:E,onInteractOutside:b,onDismiss:h,...w}=e,y=r.useContext(f),[N,k]=r.useState(null),C=N?.ownerDocument??globalThis?.document,[,D]=r.useState({}),S=(0,o.s)(t,e=>k(e)),L=Array.from(y.layers),[A]=[...y.layersWithOutsidePointerEventsDisabled].slice(-1),P=L.indexOf(A),O=N?L.indexOf(N):-1,R=y.layersWithOutsidePointerEventsDisabled.size>0,T=O>=P,M=function(e,t=globalThis?.document){const n=(0,l.c)(e),a=r.useRef(!1),s=r.useRef(()=>{});return r.useEffect(()=>{const e=e=>{if(e.target&&!a.current){let r=function(){x(d,n,a,{discrete:!0})};const a={originalEvent:e};"touch"===e.pointerType?(t.removeEventListener("click",s.current),s.current=r,t.addEventListener("click",s.current,{once:!0})):r()}else t.removeEventListener("click",s.current);a.current=!1},r=window.setTimeout(()=>{t.addEventListener("pointerdown",e)},0);return()=>{window.clearTimeout(r),t.removeEventListener("pointerdown",e),t.removeEventListener("click",s.current)}},[t,n]),{onPointerDownCapture:()=>a.current=!0}}(e=>{const t=e.target,n=[...y.branches].some(e=>e.contains(t));T&&!n&&(v?.(e),b?.(e),e.defaultPrevented||h?.())},C),W=function(e,t=globalThis?.document){const n=(0,l.c)(e),a=r.useRef(!1);return r.useEffect(()=>{const e=e=>{if(e.target&&!a.current){x(m,n,{originalEvent:e},{discrete:!1})}};return t.addEventListener("focusin",e),()=>t.removeEventListener("focusin",e)},[t,n]),{onFocusCapture:()=>a.current=!0,onBlurCapture:()=>a.current=!1}}(e=>{const t=e.target;[...y.branches].some(e=>e.contains(t))||(E?.(e),b?.(e),e.defaultPrevented||h?.())},C);return function(e,t=globalThis?.document){const n=(0,l.c)(e);r.useEffect(()=>{const e=e=>{"Escape"===e.key&&n(e)};return t.addEventListener("keydown",e,{capture:!0}),()=>t.removeEventListener("keydown",e,{capture:!0})},[n,t])}(e=>{O===y.layers.size-1&&(p?.(e),!e.defaultPrevented&&h&&(e.preventDefault(),h()))},C),r.useEffect(()=>{if(N)return n&&(0===y.layersWithOutsidePointerEventsDisabled.size&&(i=C.body.style.pointerEvents,C.body.style.pointerEvents="none"),y.layersWithOutsidePointerEventsDisabled.add(N)),y.layers.add(N),g(),()=>{n&&1===y.layersWithOutsidePointerEventsDisabled.size&&(C.body.style.pointerEvents=i)}},[N,C,n,y]),r.useEffect(()=>()=>{N&&(y.layers.delete(N),y.layersWithOutsidePointerEventsDisabled.delete(N),g())},[N,y]),r.useEffect(()=>{const e=()=>D({});return document.addEventListener(u,e),()=>document.removeEventListener(u,e)},[]),(0,c.jsx)(s.sG.div,{...w,ref:S,style:{pointerEvents:R?T?"auto":"none":void 0,...e.style},onFocusCapture:(0,a.mK)(e.onFocusCapture,W.onFocusCapture),onBlurCapture:(0,a.mK)(e.onBlurCapture,W.onBlurCapture),onPointerDownCapture:(0,a.mK)(e.onPointerDownCapture,M.onPointerDownCapture)})});p.displayName="DismissableLayer";var v=r.forwardRef((e,t)=>{const n=r.useContext(f),a=r.useRef(null),l=(0,o.s)(t,a);return r.useEffect(()=>{const e=a.current;if(e)return n.branches.add(e),()=>{n.branches.delete(e)}},[n.branches]),(0,c.jsx)(s.sG.div,{...e,ref:l})});function g(){const e=new CustomEvent(u);document.dispatchEvent(e)}function x(e,t,n,{discrete:r}){const a=n.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&a.addEventListener(e,t,{once:!0}),r?(0,s.hO)(a,o):a.dispatchEvent(o)}v.displayName="DismissableLayerBranch";var E=p,b=v},8835:function(e,t,n){var r=n(2310),a=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();e.exports=a},8923:function(e,t,n){var r=n(4073),a=n(6356),s=n(6521),o=r?r.isConcatSpreadable:void 0;e.exports=function(e){return s(e)||a(e)||!!(o&&e&&e[o])}},9677:function(e){e.exports=function(e){return function(t,n,r){for(var a=-1,s=Object(t),o=r(t),l=o.length;l--;){var i=o[e?l:++a];if(!1===n(s[i],i,s))break}return t}}},9761:function(e,t,n){var r=n(9677)();e.exports=r},9797:function(e,t,n){var r=n(5161),a=n(5313)(r);e.exports=a},9860:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return g}});var r=n(6783),a=n.n(r),s=n(9980),o=n(2983),l=n(9474);var i=e=>l.createElement(l.Fragment,null,l.createElement("div",{className:"relative w-auto rounded border px-4 py-3 \n        bg-"+e.color+"-100 \n        border-"+e.color+"-400 \n        text-"+e.color+"-700",role:"alert"},l.createElement("strong",{className:"font-bold"},e.alertMessage),l.createElement("span",{className:"absolute bottom-0 right-0 top-0 px-4 py-3"},l.createElement("svg",{className:"h-6 w-6 fill-current text-"+e.color+"-500",role:"button",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",onClick:()=>{e.setAlert(!1)}},l.createElement("title",null,"Close"),l.createElement("path",{d:"M14.348 14.849a1.2 1.2 0 0 1-1.697 0L10 11.819l-2.651 3.029a1.2 1.2 0 1 1-1.697-1.697l2.758-3.15-2.759-3.152a1.2 1.2 0 1 1 1.697-1.697L10 8.183l2.651-3.031a1.2 1.2 0 1 1 1.697 1.697l-2.758 3.152 2.758 3.15a1.2 1.2 0 0 1 0 1.698z"}))))),c=n(9776);var u=e=>{const{0:t,1:n}=(0,l.useState)(""),{0:r,1:a}=(0,l.useState)(!1),{0:s,1:o}=(0,l.useState)(null),i=(0,l.useRef)(null);return l.createElement(c.A,{modalHeader:"Submit a New Colorway",setModal:e.setModal},l.createElement("div",{className:"relative flex content-around p-6"},l.createElement("button",{className:"mr-3 block w-20 rounded bg-indigo-500 px-3 py-2 text-xs font-bold text-white hover:bg-indigo-700 "+(r&&"cursor-not-allowed opacity-50"),onClick:()=>{i.current.click()},disabled:r},r?"Photo Uploaded":"Upload Photo"),l.createElement("input",{type:"file",ref:i,onChange:e=>{a(!0),o(e.target.files[0])},style:{display:"none"}}),l.createElement("input",{className:"suggest__input bg-purple-white w-full rounded border-0 p-2 shadow",placeholder:"Colorway Name",onChange:e=>{n(e.target.value)}}),l.createElement("button",{className:"ml-3 block w-20 rounded bg-green-500 px-3 py-2 text-xs font-bold text-white hover:bg-green-700",onClick:()=>{((t,n,r,a)=>{const s=new FormData;s.append("file",a),s.append("maker",t),s.append("sculpt",n),s.append("colorway",r),fetch("https://app.keycap-archivist.com/api/v2/submission",{method:"POST",body:s}).then(()=>{e.setSuccessAlert(!0)}).catch(t=>{console.error("Error:",t),e.setErrorAlert(!0)})})(e.maker,e.sculpt,t,s),e.setModal(!1)}},"Submit")))},d=n(4723),m=n(7254),f=n(6787),p=n(5901),v=n(9443);var g=e=>{const{pageContext:t,location:n}=e,{maker:r,makerUrl:c,sculpt:g,selfOrder:x}=t,E=r.name+" - "+g.name,{0:b,1:h}=(0,l.useState)(f.WI);(0,l.useEffect)(()=>{h((0,f.Ti)())},[]);const w=b.wishlists.find(e=>e.id===b.activeWishlistId),y=!0===x?g.colorways:a()(g.colorways,e=>e.name),{0:N,1:k}=(0,l.useState)(!1),{0:C,1:D}=(0,l.useState)(!1),{0:S,1:L}=(0,l.useState)(!1),{0:A,1:P}=(0,l.useState)(!1);return l.createElement(p.A,null,C&&l.createElement(i,{color:"green",alertMessage:"Colorway Successfully Submitted",setAlert:D}),S&&l.createElement(i,{color:"red",alertMessage:"Colorway Submission Failed",setAlert:L}),A&&l.createElement(i,{color:"red",alertMessage:"Wishlist or trade list items exceeded",setAlert:P}),l.createElement(d.A,{title:E,img:g.previewImg}),l.createElement("div",{className:"mt-6"},[{label:"Home",link:"/"},{label:r.name,link:c}].map(e=>l.createElement(l.Fragment,null,l.createElement(o.N_,{to:e.link,className:(0,v.A)("text-sm font-medium text-slate-900/60 underline transition-colors","hover:text-slate-800/60","dark:text-slate-50/80","dark:hover:text-white/90")},e.label)," ","/"," "))),l.createElement("div",{className:"my-6 flex flex-col justify-between sm:flex-row"},l.createElement("div",{className:"space-y-1"},l.createElement("h2",{className:"text-2xl font-bold"},g.name),g.releaseDate&&l.createElement("dl",{className:"flex items-center pt-3"},l.createElement(s.g,{className:"h-4 w-4 text-xl text-indigo-500",icon:["fa","calendar"]}),l.createElement("dt",{className:"mx-2 font-bold"},"Release date:"),l.createElement("dd",null,g.releaseDate)),g.profile&&l.createElement("dl",{className:"flex items-center"},l.createElement(s.g,{className:"h-4 w-4 text-xl text-indigo-500",icon:["fa","keyboard"]}),l.createElement("dt",{className:"mx-2 font-bold"},"- Profile:"),l.createElement("dd",null,g.profile)),g.design&&l.createElement("dl",{className:"flex items-center"},l.createElement(s.g,{className:"h-4 w-4 text-xl text-indigo-500",icon:["fa","brain"]}),l.createElement("dt",{className:"mx-2 font-bold"},"- Design:"),l.createElement("dd",null,g.design)),g.cast&&l.createElement("dl",{className:"flex items-center"},l.createElement(s.g,{className:"h-4 w-4 text-xl text-indigo-500",icon:["fa","palette"]}),l.createElement("dt",{className:"mx-2 font-bold"},"- Cast:"),l.createElement("dd",null,g.cast)))),l.createElement("ul",{className:"grid grid-cols-1 gap-2 md:grid-cols-3 lg:grid-cols-4 lg:gap-4 xl:grid-cols-5"},y.map(e=>l.createElement("li",{key:e.id,id:e.id,className:"flex flex-col"},l.createElement(o.N_,{to:""+n.pathname+e.id,className:(0,v.A)("block w-full overflow-hidden rounded-md bg-white shadow-md transition","hover:border-slate-400/80 hover:shadow-lg","dark:border dark:border-slate-600/50 dark:bg-slate-700 dark:text-slate-200 dark:shadow-none")},l.createElement("div",{className:"h-[250px] border-b border-slate-200 bg-white dark:border-b-2 dark:border-slate-600"},l.createElement(m.A,{className:"h-full w-full object-cover",src:"https://cdn.keycap-archivist.com/keycaps/250/"+e.id+".jpg",alt:r.name+" - "+g.name+" - "+e.name})),l.createElement("div",{className:"flex items-center justify-between gap-x-2 p-4 font-bold"},l.createElement("span",{className:"truncate",title:e.name?e.name:"(Unknown)"},e.name?e.name:"(Unknown)"),l.createElement("div",{className:"flex shrink-0 items-center gap-x-1"},(0,f.Lf)(w,e.id)?l.createElement("button",{className:"p-1 lg:p-px",onClick:t=>{t.preventDefault(),h((0,f.uA)(e.id))}},l.createElement(s.g,{id:"favStar",title:"Remove from '"+w.settings.title.text+"' list",className:"top-[14px] cursor-pointer text-yellow-500",icon:["fas","star"]})):l.createElement("button",{className:"p-1 lg:p-px",onClick:t=>{t.preventDefault(),(0,f.a6)(w,e.id)&&(0,f.yd)(e.id),w.items.length>=f.po?P(!0):h((0,f.IN)(e.id))}},l.createElement(s.g,{id:"favStar",title:"Add to '"+w.settings.title.text+"' list",className:"top-[14px] cursor-pointer text-slate-500",icon:["fas","star"]})),(0,f.a6)(w,e.id)?l.createElement("button",{className:"p-1 lg:p-px",onClick:t=>{t.preventDefault(),h((0,f.yd)(e.id))}},l.createElement(s.g,{id:"favTrade",title:"Remove from '"+w.settings.title.text+"' trade list",className:"redo-icon cursor-pointer text-yellow-500",icon:["fas","redo"]})):l.createElement("button",{className:"p-1 lg:p-px",onClick:t=>{t.preventDefault(),(0,f.Lf)(w,e.id)&&(0,f.uA)(e.id),w.tradeItems.length>=f.em?P(!0):h((0,f.O1)(e.id))}},l.createElement(s.g,{id:"favTrade",title:"Add to '"+w.settings.title.text+"' trade list"+((0,f.Lf)(w,e.id)?" (and remove from wishlist)":""),className:"redo-icon cursor-pointer text-slate-500",icon:["fas","redo"]})))))))),N&&l.createElement(u,{setModal:k,maker:r.name,sculpt:g.name,setErrorAlert:L,setSuccessAlert:D}))}}}]);